{% extends 'base.html' %}
{% load static %}

{% block title %}Work Management Hub - Inspora{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <!-- Hero Section -->
            <div class="text-center mb-5">
                <h1 class="display-4 fw-bold mb-4">
                    <i class="fas fa-cogs text-primary"></i> Work Management Hub
                </h1>
                <p class="lead text-muted mb-4">
                    Streamline your workflows, automate processes, and boost team productivity with powerful management tools.
                </p>
            </div>

            <!-- Quick Stats -->
            <div class="row mb-5">
                <div class="col-md-3 mb-4">
                    <div class="card border-0 shadow-sm text-center">
                        <div class="card-body">
                            <i class="fas fa-project-diagram fa-2x text-primary mb-3"></i>
                            <h3 class="text-primary">12</h3>
                            <p class="text-muted mb-0">Active Projects</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card border-0 shadow-sm text-center">
                        <div class="card-body">
                            <i class="fas fa-tasks fa-2x text-success mb-3"></i>
                            <h3 class="text-success">89</h3>
                            <p class="text-muted mb-0">Tasks Completed</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card border-0 shadow-sm text-center">
                        <div class="card-body">
                            <i class="fas fa-users fa-2x text-info mb-3"></i>
                            <h3 class="text-info">24</h3>
                            <p class="text-muted mb-0">Team Members</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card border-0 shadow-sm text-center">
                        <div class="card-body">
                            <i class="fas fa-chart-line fa-2x text-warning mb-3"></i>
                            <h3 class="text-warning">94%</h3>
                            <p class="text-muted mb-0">Productivity Score</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Workflow Management -->
            <div class="mb-5">
                <h2 class="mb-4"><i class="fas fa-sitemap text-primary"></i> Workflow Management</h2>
                <div class="row">
                    <div class="col-lg-6 mb-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0"><i class="fas fa-play-circle me-2"></i>Active Workflows</h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <h6>Project Approval Process</h6>
                                    <div class="progress mb-2">
                                        <div class="progress-bar bg-success" style="width: 75%">75%</div>
                                    </div>
                                    <small class="text-muted">3 of 4 steps completed</small>
                                </div>
                                <div class="mb-3">
                                    <h6>Content Review Pipeline</h6>
                                    <div class="progress mb-2">
                                        <div class="progress-bar bg-warning" style="width: 45%">45%</div>
                                    </div>
                                    <small class="text-muted">2 of 4 steps completed</small>
                                </div>
                                <div class="mb-3">
                                    <h6>Bug Fix Workflow</h6>
                                    <div class="progress mb-2">
                                        <div class="progress-bar bg-info" style="width: 90%">90%</div>
                                    </div>
                                    <small class="text-muted">4 of 4 steps completed</small>
                                </div>
                                <a href="#" class="btn btn-outline-primary btn-sm">View All Workflows</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-6 mb-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-header bg-success text-white">
                                <h5 class="mb-0"><i class="fas fa-plus-circle me-2"></i>Create New Workflow</h5>
                            </div>
                            <div class="card-body">
                                <form>
                                    <div class="mb-3">
                                        <label for="workflowName" class="form-label">Workflow Name</label>
                                        <input type="text" class="form-control" id="workflowName" placeholder="Enter workflow name...">
                                    </div>
                                    <div class="mb-3">
                                        <label for="workflowType" class="form-label">Workflow Type</label>
                                        <select class="form-select" id="workflowType">
                                            <option value="">Select type...</option>
                                            <option value="approval">Approval Process</option>
                                            <option value="review">Review Pipeline</option>
                                            <option value="development">Development Workflow</option>
                                            <option value="custom">Custom Workflow</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="workflowDescription" class="form-label">Description</label>
                                        <textarea class="form-control" id="workflowDescription" rows="3" placeholder="Describe your workflow..."></textarea>
                                    </div>
                                    <button type="button" class="btn btn-success" onclick="createWorkflow()">
                                        <i class="fas fa-plus me-2"></i>Create Workflow
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Automation Rules -->
            <div class="mb-5">
                <h2 class="mb-4"><i class="fas fa-robot text-success"></i> Automation Rules</h2>
                <div class="row">
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-envelope fa-2x text-primary me-3"></i>
                                    <div>
                                        <h6 class="mb-1">Auto Notifications</h6>
                                        <span class="badge bg-success">Active</span>
                                    </div>
                                </div>
                                <p class="card-text">Automatically notify team members when tasks are assigned or completed.</p>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="notificationsToggle" checked>
                                    <label class="form-check-label" for="notificationsToggle">Enable</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-calendar-alt fa-2x text-success me-3"></i>
                                    <div>
                                        <h6 class="mb-1">Due Date Reminders</h6>
                                        <span class="badge bg-success">Active</span>
                                    </div>
                                </div>
                                <p class="card-text">Send reminders for upcoming deadlines and overdue tasks.</p>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="remindersToggle" checked>
                                    <label class="form-check-label" for="remindersToggle">Enable</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-sync-alt fa-2x text-info me-3"></i>
                                    <div>
                                        <h6 class="mb-1">Status Updates</h6>
                                        <span class="badge bg-warning">Paused</span>
                                    </div>
                                </div>
                                <p class="card-text">Automatically update project status based on task completion.</p>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="statusToggle">
                                    <label class="form-check-label" for="statusToggle">Enable</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Team Performance -->
            <div class="mb-5">
                <h2 class="mb-4"><i class="fas fa-chart-bar text-info"></i> Team Performance</h2>
                <div class="row">
                    <div class="col-lg-8 mb-4">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header">
                                <h5 class="mb-0">Productivity Trends</h5>
                            </div>
                            <div class="card-body">
                                <div class="chart-placeholder bg-light rounded p-4 text-center">
                                    <i class="fas fa-chart-line fa-3x text-muted mb-3"></i>
                                    <p class="text-muted">Interactive productivity charts coming soon!</p>
                                    <p class="text-muted">Track team performance, completion rates, and productivity metrics.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4 mb-4">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header">
                                <h5 class="mb-0">Top Performers</h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <i class="fas fa-user-circle fa-2x text-primary"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <h6 class="mb-1">Sarah Johnson</h6>
                                            <small class="text-muted">Project Manager</small>
                                        </div>
                                        <span class="badge bg-success">98%</span>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <i class="fas fa-user-circle fa-2x text-success"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <h6 class="mb-1">Mike Chen</h6>
                                            <small class="text-muted">Developer</small>
                                        </div>
                                        <span class="badge bg-success">95%</span>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <i class="fas fa-user-circle fa-2x text-info"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <h6 class="mb-1">Emma Wilson</h6>
                                            <small class="text-muted">Designer</small>
                                        </div>
                                        <span class="badge bg-warning">92%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Integration Hub -->
            <div class="card">
                <div class="card-header">
                    <h3 class="mb-0"><i class="fas fa-plug text-warning"></i> Integration Hub</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 col-lg-3 mb-4">
                            <div class="card border-0 shadow-sm text-center h-100">
                                <div class="card-body">
                                    <i class="fab fa-slack fa-3x text-primary mb-3"></i>
                                    <h6 class="card-title">Slack</h6>
                                    <p class="card-text text-muted">Connect with your team communication platform.</p>
                                    <span class="badge bg-success">Connected</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 col-lg-3 mb-4">
                            <div class="card border-0 shadow-sm text-center h-100">
                                <div class="card-body">
                                    <i class="fab fa-github fa-3x text-dark mb-3"></i>
                                    <h6 class="card-title">GitHub</h6>
                                    <p class="card-text text-muted">Sync with your development repository.</p>
                                    <span class="badge bg-success">Connected</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 col-lg-3 mb-4">
                            <div class="card border-0 shadow-sm text-center h-100">
                                <div class="card-body">
                                    <i class="fab fa-google-drive fa-3x text-success mb-3"></i>
                                    <h6 class="card-title">Google Drive</h6>
                                    <p class="card-text text-muted">Access and manage your documents.</p>
                                    <span class="badge bg-secondary">Not Connected</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 col-lg-3 mb-4">
                            <div class="card border-0 shadow-sm text-center h-100">
                                <div class="card-body">
                                    <i class="fas fa-plus fa-3x text-muted mb-3"></i>
                                    <h6 class="card-title">Add More</h6>
                                    <p class="card-text text-muted">Connect additional tools and services.</p>
                                    <a href="#" class="btn btn-outline-primary btn-sm">Connect</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function createWorkflow() {
    const name = document.getElementById('workflowName').value;
    const type = document.getElementById('workflowType').value;
    const description = document.getElementById('workflowDescription').value;
    
    if (!name.trim() || !type || !description.trim()) {
        alert('Please fill in all fields to create a workflow.');
        return;
    }
    
    alert('Workflow creation coming soon! Your workflow "' + name + '" will be created in the next update.');
}

// Add interactive elements
document.querySelectorAll('.form-check-input').forEach(toggle => {
    toggle.addEventListener('change', function() {
        const ruleName = this.closest('.card-body').querySelector('h6').textContent;
        const status = this.checked ? 'enabled' : 'disabled';
        console.log(`${ruleName} automation rule ${status}`);
    });
});

// Simulate progress updates
setInterval(() => {
    const progressBars = document.querySelectorAll('.progress-bar');
    progressBars.forEach(bar => {
        const currentWidth = parseInt(bar.style.width);
        if (currentWidth < 100 && currentWidth > 0) {
            bar.style.width = Math.min(currentWidth + Math.random() * 3, 100) + '%';
            bar.textContent = Math.round(parseInt(bar.style.width)) + '%';
        }
    });
}, 10000);
</script>
{% endblock %}
